# Define simulation parameters
units metal
atom_style atomic
dimension 3
boundary p p p
newton on

# Define atom coordinates
read_data $infile
$masses

# Define potential and atom types
#    params = {'pair_style': 'eam/fs',
#   'pair_coeff': ['* * Ag-Ni.eam.fs Ag'], }#'tmp_dir': 'lmptd', 'keep_tmp_files': True}
#   'pair_coeff': ['* * Ag-Ni.eam.fs Ag Ni'], }
pair_style $potential_type
pair_coeff * * $potential_file $atom_specs

fix extra all print 1 "pe = $(pe)" file $energy_outfile

compute pot_energy all pe
compute temp1 all temp
thermo_style custom temp pe
# Define minimization parameters
min_style cg

minimize 1.0e-7 1.0e-7 1e6 1e6

# Run the simulation
run 0
fix 1 all box/relax iso 1000 vmax 0.01
minimize 1.0e-7 1.0e-7 1e6 1e6
compute pot_energy2 all pe
compute temp2 all temp
thermo_style custom temp pe
run 0

compute pot_energy3 all pe
compute temp3 all temp
thermo_style custom temp pe

write_data $outfile